<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Sample size or precision for risk ratio — prec_riskratio • presize</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Sample size or precision for risk ratio — prec_riskratio" />
<meta property="og:description" content="prec_riskratio returns the risk ratio and the sample size or the
precision for the provided proportions" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">presize</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="http://github.com/CTU-Bern/presize/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Sample size or precision for risk ratio</h1>
    <small class="dont-index">Source: <a href='http://github.com/CTU-Bern/presize/blob/master/R/differences.R'><code>R/differences.R</code></a></small>
    <div class="hidden name"><code>prec_riskratio.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>prec_riskratio</code> returns the risk ratio and the sample size or the
precision for the provided proportions</p>
    </div>

    <pre class="usage"><span class='fu'>prec_riskratio</span>(
  <span class='no'>p1</span>,
  <span class='no'>p2</span>,
  <span class='kw'>n1</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>r</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>conf.width</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>conf.level</span> <span class='kw'>=</span> <span class='fl'>0.95</span>,
  <span class='kw'>method</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"koopman"</span>, <span class='st'>"katz"</span>),
  <span class='no'>...</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>p1</th>
      <td><p>Risk among unexposed</p></td>
    </tr>
    <tr>
      <th>p2</th>
      <td><p>Risk among exposed</p></td>
    </tr>
    <tr>
      <th>n1</th>
      <td><p>Number of patients in unexposed group</p></td>
    </tr>
    <tr>
      <th>r</th>
      <td><p>allocation ratio (relative size of unexposed and exposed cohort
(<code>n2</code> / <code>n1</code>))</p></td>
    </tr>
    <tr>
      <th>conf.width</th>
      <td><p>precision (the full width of the confidende interval).</p></td>
    </tr>
    <tr>
      <th>conf.level</th>
      <td><p>confidence level.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>Exactly one of <code>koopman</code> (<em>default</em>), <code>katz</code>.
Methods can be abbreviated.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>other arguments to uniroot (e.g. <code>tol</code>).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Exactly one of the parameters <code>n1, conf.width</code> must be passed as NULL,
and that parameter is determined from the other.</p>
<p>Koopman (<code>koopman</code>) provides an asymptotic score confidence interval
that is always consistent with Pearsons chi-squared test. It is the
recommended interval (Fagerland et al.).</p>
<p>Katz (<code>katz</code>) use a logarithmic transformation to calculate the
confidence interval. The CI cannot be computed if one of the proportions is
zero. If both proportions are 1, the estimate of the standard error becomes
zero, resulting in a CI of [1, 1].</p>
<p><code><a href='https://rdrr.io/r/stats/uniroot.html'>uniroot</a></code> is used to solve n for the katz, and koopman
method.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Fagerland MW, Lydersen S, and Laake P (2015). <em>Recommended confidence
intervals for two independent binomial proportions</em>, Statistical methods in
medical research 24(2):224-254.</p>
<p>Katz D, Baptista J, Azen SP, and Pike MC (1978) <em>Obtaining Confidence
Intervals for the Risk Ratio in Cohort Studies</em>, Biometrics 34:469-474</p>
<p>Koopman PAR (1984) <em>Confidence Intervals for the Ratio of Two Binomial
Proportions</em>, Biometrics 40:513-517</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Validate function with example in Fagerland et al. (2015), Table 5.</span>
<span class='fu'>prec_riskratio</span>(<span class='kw'>p1</span> <span class='kw'>=</span> <span class='fl'>7</span>/<span class='fl'>34</span>, <span class='kw'>p2</span> <span class='kw'>=</span> <span class='fl'>1</span>/<span class='fl'>34</span>, <span class='kw'>n1</span> <span class='kw'>=</span> <span class='fl'>34</span>, <span class='kw'>r</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>met</span> <span class='kw'>=</span> <span class='st'>"katz"</span>)</div><div class='output co'>#&gt; 
#&gt;      precision for a relative risk with katz confidence interval 
#&gt; 
#&gt;          p1         p2 n1 n2 ntot r rr       lwr      upr conf.width conf.level
#&gt; 1 0.2058824 0.02941176 34 34   68 1  7 0.9096055 53.86951    52.9599       0.95</div><div class='input'><span class='co'># 7 (0.91 to 54)</span>
<span class='fu'>prec_riskratio</span>(<span class='kw'>p1</span> <span class='kw'>=</span> <span class='fl'>7</span>/<span class='fl'>34</span>, <span class='kw'>p2</span> <span class='kw'>=</span> <span class='fl'>1</span>/<span class='fl'>34</span>, <span class='kw'>n1</span> <span class='kw'>=</span> <span class='fl'>34</span>, <span class='kw'>r</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>met</span> <span class='kw'>=</span> <span class='st'>"koopman"</span>)</div><div class='output co'>#&gt; 
#&gt;      precision for a relative risk with koopman confidence interval 
#&gt; 
#&gt;          p1         p2 n1 n2 ntot r rr      lwr      upr conf.width conf.level
#&gt; 1 0.2058824 0.02941176 34 34   68 1  7 1.220853 42.57571   41.35486       0.95</div><div class='input'><span class='co'># 7 (1.21 to 43)</span>

<span class='co'># Validate the Koopman method with example in Koopman (1984)</span>
<span class='fu'>prec_riskratio</span>(<span class='kw'>p1</span> <span class='kw'>=</span> <span class='fl'>36</span>/<span class='fl'>40</span>, <span class='kw'>p2</span> <span class='kw'>=</span> <span class='fl'>16</span>/<span class='fl'>80</span>, <span class='kw'>n1</span> <span class='kw'>=</span> <span class='fl'>40</span>, <span class='kw'>r</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>met</span> <span class='kw'>=</span> <span class='st'>"koopman"</span>)</div><div class='output co'>#&gt; 
#&gt;      precision for a relative risk with koopman confidence interval 
#&gt; 
#&gt;    p1  p2 n1 n2 ntot r  rr      lwr      upr conf.width conf.level
#&gt; 1 0.9 0.2 40 80  120 2 4.5 2.939572 7.152241   4.212668       0.95</div><div class='input'># 4.5 (2.94 to 7.15)
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Armando Lenz, Alan G. Haynes, Andreas Limacher.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


