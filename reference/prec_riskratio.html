<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Sample size or precision for risk ratio — prec_riskratio • presize</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Sample size or precision for risk ratio — prec_riskratio"><meta name="description" content="prec_riskratio returns the risk ratio and the sample size or the
precision for the provided proportions."><meta property="og:description" content="prec_riskratio returns the risk ratio and the sample size or the
precision for the provided proportions."><meta property="og:image" content="https://ctu-bern.github.io/presize/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">presize</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/presize.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/CTU-Bern/presize/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Sample size or precision for risk ratio</h1>
      <small class="dont-index">Source: <a href="https://github.com/CTU-Bern/presize/blob/master/R/differences.R" class="external-link"><code>R/differences.R</code></a></small>
      <div class="d-none name"><code>prec_riskratio.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>prec_riskratio</code> returns the risk ratio and the sample size or the
precision for the provided proportions.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">prec_riskratio</span><span class="op">(</span></span>
<span>  <span class="va">p1</span>,</span>
<span>  <span class="va">p2</span>,</span>
<span>  n1 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  r <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  conf.width <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  conf.level <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"koopman"</span>, <span class="st">"katz"</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-p-">p1<a class="anchor" aria-label="anchor" href="#arg-p-"></a></dt>
<dd><p>risk among exposed.</p></dd>


<dt id="arg-p-">p2<a class="anchor" aria-label="anchor" href="#arg-p-"></a></dt>
<dd><p>risk among unexposed.</p></dd>


<dt id="arg-n-">n1<a class="anchor" aria-label="anchor" href="#arg-n-"></a></dt>
<dd><p>number of patients in exposed group.</p></dd>


<dt id="arg-r">r<a class="anchor" aria-label="anchor" href="#arg-r"></a></dt>
<dd><p>allocation ratio (relative size of unexposed and exposed cohort
(<code>n2</code> / <code>n1</code>)).</p></dd>


<dt id="arg-conf-width">conf.width<a class="anchor" aria-label="anchor" href="#arg-conf-width"></a></dt>
<dd><p>precision (the full width of the confidence interval).</p></dd>


<dt id="arg-conf-level">conf.level<a class="anchor" aria-label="anchor" href="#arg-conf-level"></a></dt>
<dd><p>confidence level.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>Exactly one of <code>koopman</code> (<em>default</em>), <code>katz</code>.
Methods can be abbreviated.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>other arguments to uniroot (e.g. <code>tol</code>).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Exactly one of the parameters <code>n1</code> or <code>conf.width</code> must be passed as NULL,
and that parameter is determined from the other.</p>
<p>Koopman (<code>koopman</code>) provides an asymptotic score confidence interval
that is always consistent with Pearsons chi-squared test. It is the
recommended interval (Fagerland et al.).</p>
<p>Katz (<code>katz</code>) use a logarithmic transformation to calculate the
confidence interval. The CI cannot be computed if one of the proportions is
zero. If both proportions are 1, the estimate of the standard error becomes
zero, resulting in a CI of [1, 1].</p>
<p><code><a href="https://rdrr.io/r/stats/uniroot.html" class="external-link">uniroot</a></code> is used to solve n for the katz, and koopman
method.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Fagerland MW, Lydersen S, and Laake P (2015). <em>Recommended confidence
intervals for two independent binomial proportions</em>, Statistical methods in
medical research 24(2):224-254.</p>
<p>Katz D, Baptista J, Azen SP, and Pike MC (1978) <em>Obtaining Confidence
Intervals for the Risk Ratio in Cohort Studies</em>, Biometrics 34:469-474.</p>
<p>Koopman PAR (1984) <em>Confidence Intervals for the Ratio of Two Binomial
Proportions</em>, Biometrics 40:513-517.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Validate function with example in Fagerland et al. (2015), Table 5.</span></span></span>
<span class="r-in"><span><span class="fu">prec_riskratio</span><span class="op">(</span>p1 <span class="op">=</span> <span class="fl">7</span><span class="op">/</span><span class="fl">34</span>, p2 <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">34</span>, n1 <span class="op">=</span> <span class="fl">34</span>, r <span class="op">=</span> <span class="fl">1</span>, met <span class="op">=</span> <span class="st">"katz"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      precision for a relative risk with katz confidence interval </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          p1         p2 n1 n2 ntot r rr       lwr      upr conf.width conf.level</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.2058824 0.02941176 34 34   68 1  7 0.9096055 53.86951    52.9599       0.95</span>
<span class="r-in"><span><span class="co"># 7 (0.91 to 54)</span></span></span>
<span class="r-in"><span><span class="fu">prec_riskratio</span><span class="op">(</span>p1 <span class="op">=</span> <span class="fl">7</span><span class="op">/</span><span class="fl">34</span>, p2 <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">34</span>, n1 <span class="op">=</span> <span class="fl">34</span>, r <span class="op">=</span> <span class="fl">1</span>, met <span class="op">=</span> <span class="st">"koopman"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      precision for a relative risk with koopman confidence interval </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          p1         p2 n1 n2 ntot r rr      lwr      upr conf.width conf.level</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.2058824 0.02941176 34 34   68 1  7 1.220853 42.57571   41.35486       0.95</span>
<span class="r-in"><span><span class="co"># 7 (1.21 to 43)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Validate the Koopman method with example in Koopman (1984)</span></span></span>
<span class="r-in"><span><span class="fu">prec_riskratio</span><span class="op">(</span>p1 <span class="op">=</span> <span class="fl">36</span><span class="op">/</span><span class="fl">40</span>, p2 <span class="op">=</span> <span class="fl">16</span><span class="op">/</span><span class="fl">80</span>, n1 <span class="op">=</span> <span class="fl">40</span>, r <span class="op">=</span> <span class="fl">2</span>, met <span class="op">=</span> <span class="st">"koopman"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      precision for a relative risk with koopman confidence interval </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    p1  p2 n1 n2 ntot r  rr      lwr      upr conf.width conf.level</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.9 0.2 40 80  120 2 4.5 2.939572 7.152241   4.212668       0.95</span>
<span class="r-in"><span><span class="co"># 4.5 (2.94 to 7.15)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Armando Lenz, Alan G. Haynes, Andreas Limacher.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

